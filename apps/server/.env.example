# ===========================================
# GK-Nexus Server Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values

# ----- Database -----
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
# Example: postgresql://postgres:password@localhost:5432/synergy_gy
DATABASE_URL=

# ----- Authentication (Better-Auth) -----
# Secret key for signing tokens (minimum 32 characters)
# Generate with: openssl rand -base64 32
# CRITICAL: Change this in production!
BETTER_AUTH_SECRET=

# Base URL for authentication callbacks and redirects
# Development: http://localhost:3000
# Production: https://api.yourdomain.com or https://yourdomain.com
BETTER_AUTH_URL=

# ----- Server Configuration -----
# Port for the backend server (default: 3000)
PORT=3000

# Environment mode: development, production, or test
NODE_ENV=development

# Allowed CORS origins (comma-separated list for multiple origins)
# Development: http://localhost:3001
# Production: https://yourdomain.com,https://www.yourdomain.com
CORS_ORIGIN=

# ----- File Storage -----
# Local file upload directory (relative to server root)
# Docker: Use /data/uploads and mount as volume
# Local dev: Use ./data/uploads
UPLOAD_DIR=./data/uploads

# ----- Email (Resend) -----
# Email service for portal invites, password resets, and notifications
# Get your API key from: https://resend.com/api-keys
# Leave empty in development to log emails to console instead
RESEND_API_KEY=

# From address - must be a verified domain in Resend
# Development: Use Resend test domain (onboarding@resend.dev)
# Production: Use your verified domain (e.g., noreply@yourdomain.com)
EMAIL_FROM=noreply@yourcompany.com

# Optional: Reply-to and support email addresses
# EMAIL_REPLY_TO=support@yourcompany.com
# EMAIL_SUPPORT=support@yourcompany.com

# ----- Initial Owner Setup -----
# SECURITY: Only used on first run if no owner exists
# After first login, REMOVE these from .env for security!
# This creates the initial admin account automatically
INITIAL_OWNER_EMAIL=
INITIAL_OWNER_PASSWORD=
INITIAL_OWNER_NAME=System Administrator

# ----- Cloud Storage (Optional - S3/R2 for backups) -----
# S3-compatible storage for document backups
# Recommended: Cloudflare R2 (S3-compatible, no egress fees)
# Uncomment and configure when enabling cloud backups

# S3/R2 endpoint URL
# Cloudflare R2: https://[account-id].r2.cloudflarestorage.com
# AWS S3: https://s3.[region].amazonaws.com
# S3_ENDPOINT=

# S3/R2 access credentials
# S3_ACCESS_KEY_ID=
# S3_SECRET_ACCESS_KEY=

# S3/R2 bucket name
# S3_BUCKET=gk-nexus-backups

# S3/R2 region
# Cloudflare R2: auto
# AWS S3: us-east-1, eu-west-1, etc.
# S3_REGION=auto

# Optional: Public URL for accessing uploaded files
# Only needed if serving files directly from cloud storage
# S3_PUBLIC_URL=https://files.yourdomain.com

# ----- WhatsApp Integration (Optional - Phase 3) -----
# WhatsApp Business API configuration
# Required for WhatsApp notifications and messaging
# Uncomment when implementing WhatsApp integration

# WhatsApp Cloud API access token (from Meta Business Manager)
# WHATSAPP_ACCESS_TOKEN=

# WhatsApp Business phone number ID
# WHATSAPP_PHONE_NUMBER_ID=

# WhatsApp Business account ID
# WHATSAPP_BUSINESS_ACCOUNT_ID=

# Webhook verification token (you generate this)
# WHATSAPP_VERIFY_TOKEN=

# WhatsApp App Secret (from Meta Developer Console)
# WHATSAPP_APP_SECRET=

# Optional: WhatsApp webhook URL for receiving messages
# WHATSAPP_WEBHOOK_URL=https://yourdomain.com/webhooks/whatsapp

# ----- Logging & Monitoring (Optional) -----
# Log level: error, warn, info, debug
# LOG_LEVEL=info

# Sentry DSN for error tracking
# SENTRY_DSN=

# ----- Rate Limiting (Optional) -----
# Maximum requests per window
# RATE_LIMIT_MAX=100

# Time window in milliseconds (default: 15 minutes)
# RATE_LIMIT_WINDOW_MS=900000

# ----- Session Management (Optional) -----
# Session max age in milliseconds (default: 7 days)
# SESSION_MAX_AGE=604800000

# ----- Application Settings (Optional) -----
# Application name for emails and branding
# APP_NAME=GK-Nexus

# Support contact information
# SUPPORT_EMAIL=support@gcmc-kaj.com
# SUPPORT_PHONE=+592-XXX-XXXX

# Company information for documents and emails
# COMPANY_NAME=Green Crescent Management Consultancy
# COMPANY_ADDRESS=Georgetown, Guyana
